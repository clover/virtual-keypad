(this["webpackJsonpvirtual-keypad"]=this["webpackJsonpvirtual-keypad"]||[]).push([[0],{319:function(e){e.exports=JSON.parse('{"translation":{"Virtual Keypad":"Virtual Keypad","Clover":"Clover","cloverDomain":{"label":"Clover Domain","help":"The Clover Domain is a **required** URL that will be used for API calls.\\n\\n###### Example:\\n\\n`https://www.clover.com`\\n\\n###### Note:\\n\\nThis should be automatically populated when launching via the dashboard."},"merchantId":{"label":"Merchant ID","title":"The Merchant ID should be a 13-character alphanumeric value.\\nExample:\xa0ABC1234567890","help":"The Merchant ID is a **required** 13-character alphanumeric value.\\n\\n###### Example:\\n\\n`ABC1234567890`\\n\\nFor help finding this value, refer to [Use the Web Dashboard to manage your Clover account](https://www.clover.com/help/web-dashboard-for-managing-your-clover-account/#view-merchant-id-clover-id-device-serial-number-and)\\n\\n###### Note:\\n\\nThis should be automatically populated when launching via the dashboard."},"employeeId":{"label":"Employee ID","title":"The Employee ID should be a 13-character alphanumeric value.\\nExample:\xa0ABC1234567890","help":"The Employee ID is an **optional** 13-character alphanumeric value.\\n\\n###### Example:\\n\\n`ABC1234567890`\\n\\n###### Note:\\n\\nThis should be automatically populated when launching via the dashboard."},"accessToken":{"label":"Access Token","title":"The Access Token should be a 32-character UUID value.\\nExample:\xa012345678-ABCD-1234-ABCD-1234-1234567890AB\\nExample:\xa012345678abcd1234abcd12341234567890ab","help":"The Access Token is a **required** 32-character alphanumeric value.\\n\\n###### Example:\\n\\n`12345678abcd1234abcd12341234567890ab`\\n\\n###### Note:\\n\\nThis should be automatically populated when launching via the dashboard."},"raid":{"label":"Remote Application ID","title":"The Remote Application ID should be 1 to 255 characters (alphanumeric, spaces, periods).","help":"The Remote Application ID is a **required** value up to 255 characters in length (alphanumeric, spaces, periods).\\n\\n###### Note:\\n\\nThis should be automatically populated when launching via the dashboard."},"friendlyId":{"label":"Friendly ID","help":"The Friendly ID is an **optional** value.\\n\\n###### Example:\\n\\n`Virtual Keypad`"},"Configuration":"Configuration","Connect":"Connect","Submit":"Submit","Reset":"Reset","Cancel":"Cancel","Select Device":"Select Device","cloudPayDisplay":{"installed":"Cloud Pay Display is installed","uninstalled":"Cloud Pay Display is NOT installed"},"Show details":"Show details\u2026","Menu":"Menu","MODE":{"TRANSACTION":"Keypad","HISTORY":"History"},"Show Welcome":"Show Welcome","Reset Device":"Reset Device","Disconnect":"Disconnect","Date":"Date","Type":"Type","Amount":"Amount","ACTION":{"ACCEPT_PAYMENT":"Accept","ACCEPT_SIGNATURE":"Accept","DISCONNECT":"Disconnect","IDENTIFY":"Identify","INVOKE_INPUT_OPTION":"Invoke","REJECT_PAYMENT":"Reject","REJECT_SIGNATURE":"Reject","RESET":"Reset","SHOW_WELCOME":"Show Welcome","TRANSACTION":"Transaction","VOID_PAYMENT":"Void","CANCEL":"Cancel","OK":"OK","Type Card":"Type Card","Enter":"Enter","Clear":"Clear","Done":"Done","No receipt":"No receipt","Print":"Print","Yes":"Yes","No":"No"},"Shortcut keys":"Shortcut keys","KEY_CODE":{"Backspace":"Backspace","Delete":"Delete","Digit0":"Digit 0","Digit1":"Digit 1","Digit2":"Digit 2","Digit3":"Digit 3","Digit4":"Digit 4","Digit5":"Digit 5","Digit6":"Digit 6","Digit7":"Digit 7","Digit8":"Digit 8","Digit9":"Digit 9","Enter":"Enter","Escape":"Esc","F1":"F1","F2":"F2","Numpad0":"Numpad 0","Numpad1":"Numpad 1","Numpad2":"Numpad 2","Numpad3":"Numpad 3","Numpad4":"Numpad 4","Numpad5":"Numpad 5","Numpad6":"Numpad 6","Numpad7":"Numpad 7","Numpad8":"Numpad 8","Numpad9":"Numpad 9","NumpadAdd":"Numpad Add","NumpadDecimal":"Numpad Decimal","NumpadDivide":"Numpad Divide","NumpadEnter":"Numpad Enter","NumpadMultiply":"Numpad Multiply","NumpadSubtract":"Numpad Subtract","Period":"Period"},"KEY":{"0":"0","1":"1","2":"2","3":"3","4":"4","5":"5","6":"6","7":"7","8":"8","9":"9","00":"00","X":"X","<":"<","O":"O"},"TRANSACTION":{"SALE":"Sale","CREDIT":"Credit","VOID":"Void"},"Details":"Details","Partial Payment":"Partial Payment","Remaining":"Remaining","Payment ID":"Payment ID","External ID":"External ID","External Ref":"External Ref","Order ID":"Order ID","Total":"Total","Tip":"Tip","Card":"Card","CARD":{"VISA":"Visa","MC":"Mastercard","AMEX":"AmEx","DISCOVER":"Discover","DINERS_CLUB":"Diner\'s Club","JCB":"JCB","MAESTRO":"Maestro","SOLO":"Solo","LASER":"Laser","CHINA_UNION_PAY":"China Union Pay","CARTE_BLANCHE":"Carte Blanche","UNKNOWN":"Unknown","GIFT_CARD":"Gift Card","EBT":"EBT","GIROCARD":"Girocard","INTERAC":"Interac","OTHER":"Other"},"CARDHOLDER_NAME":{"MANUALLY ENTERED":"(manually entered)"},"Process":"Process","Void":"Void","ERROR":{"Amount is required":"Amount is required","Amount is invalid":"Amount is invalid","Merchant has no devices":"Merchant has no devices","Merchant has no devices with Cloud Pay Display installed":"Merchant has no devices with Cloud Pay Display installed","Device not found":"Device not found","Device does not have Cloud Pay Display installed":"Device does not have Cloud Pay Display installed","No payment was specified":"No payment was specified","Invalid transaction type":"Invalid transaction type"},"STATUS":{"Accepting payment\u2026":"Accepting payment\u2026","Accepting signature\u2026":"Accepting signature\u2026","Rejecting payment\u2026":"Rejecting payment\u2026","Rejecting signature\u2026":"Rejecting signature\u2026","Identifying\u2026":"Identifying\u2026","Connecting\u2026":"Connecting\u2026","Resetting\u2026":"Resetting\u2026","Processing\u2026":"Processing\u2026","Verify Signature":"Verify Signature","Ready":"Ready"},"connected":"connected"}}')},333:function(e,t,n){e.exports=n(753)},751:function(e,t,n){},752:function(e,t,n){},753:function(e,t,n){"use strict";n.r(t);var a,r,c,o,i,l,s=n(0),u=n.n(s),d=n(30),m=n.n(d),p=n(11),v=n(45),f=n(48),b=n(316),y=n(103),h=n(21),O="ACCEPT_PAYMENT",E="ACCEPT_SIGNATURE",j="DISCONNECT",g="IDENTIFY",C="INVOKE_INPUT_OPTION",N="REJECT_PAYMENT",k="REJECT_SIGNATURE",D="RESET",I="SHOW_WELCOME",T="TRANSACTION",A="TRANSACTION_MODE",w="CLOUD_PAY_DISPLAY",R=Object(h.a)({},w,"Cloud Pay Display"),x=Object.fromEntries(Object.entries(R).map((function(e){return e.reverse()}))),S="https://www.clover.com",P={MANUAL_ENTRY_ALLOWED:"MANUAL_ENTRY_ALLOWED",PERFORM_MANUAL_REFUND:"PERFORM_MANUAL_REFUND",VOID_PAYMENTS:"VOID_PAYMENTS"},M=/^(Flex|Mini|Mobile)/i,_="SALE",L="CREDIT",V="VOID",Y=[],F=n(2),U=n(164),K=n.n(U),B=function(){try{return JSON.parse(atob(localStorage.getItem("clover/virtual-keypad")||"bnVsbA=="))}catch(e){return null}},q=K.a.parse(window.location.search),z=K.a.parse(window.location.hash),W=B(),H={cloverDomain:function(){var e,t;if(document.referrer){var n=new URL(document.referrer);if(n.origin.includes("clover.com"))return n.toString()}return(null===W||void 0===W||null===(e=W.configuration)||void 0===e?void 0:e.cloverDomain)?null===W||void 0===W||null===(t=W.configuration)||void 0===t?void 0:t.cloverDomain:S}(),merchantId:q.merchant_id||(null===W||void 0===W||null===(a=W.configuration)||void 0===a?void 0:a.merchantId)||"",employeeId:q.employee_id||(null===W||void 0===W||null===(r=W.configuration)||void 0===r?void 0:r.employeeId)||"",accessToken:z.access_token||(null===W||void 0===W||null===(c=W.configuration)||void 0===c?void 0:c.accessToken)||"",raid:q.raid||(null===W||void 0===W||null===(o=W.configuration)||void 0===o?void 0:o.raid)||"",friendlyId:(null===W||void 0===W||null===(i=W.configuration)||void 0===i?void 0:i.friendlyId)||"Virtual Keypad",loading:void 0},J=n(24),G=n.n(J),X={connector:null,connected:!1},Z=function(e){var t=e.device.doTxStart;e.device.doTxStart=function(n,a,r){return"CREDIT"===r&&(n.externalReferenceId=n.externalPaymentId),t.call(e.device,n,a,r)}},$=function(e){try{null===e||void 0===e||e.dispose()}catch(t){}},Q=B(),ee={list:[],selected:(null===Q||void 0===Q||null===(l=Q.devices)||void 0===l?void 0:l.selected)||""},te={message:null,stack:null,important:void 0},ne={employee:null,permissions:null},ae={width:0,height:0,strokes:[]},re=n(6),ce=n.n(re),oe=n(12),ie=n(38),le=function e(t,n){var a=n.retries,r=void 0===a?3:a,c=Object(ie.a)(n,["retries"]);return fetch(t,c).catch((function(n){if(r>1)return e(t,Object(F.a)({retries:r-1},c));throw n}))},se=function(e){var t=e.cloverDomain,n=e.merchantId,a=e.deviceId,r=e.accessToken;return le(new URL("/v2/merchant/".concat(n,"/device/").concat(a,"/current_apps?access_token=").concat(r),t).toString(),{method:"GET",headers:{accept:"application/json","content-type":"application/json"}}).then((function(e){return e.json()}))},ue=function(e){var t=e.cloverDomain,n=e.merchantId,a=e.accessToken;return le(new URL("/v3/merchants/".concat(n,"/devices?access_token=").concat(a),t).toString(),{method:"GET",headers:{accept:"application/json","content-type":"application/json"}}).then((function(e){return e.json()}))},de=function(e){var t=e.cloverDomain,n=e.merchantId,a=e.employeeId,r=e.accessToken;return le(new URL("/v3/merchants/".concat(n,"/employees/").concat(a,"?access_token=").concat(r,"&expand=roles"),t).toString(),{method:"GET",headers:{accept:"application/json","content-type":"application/json"}}).then((function(e){return e.json()}))},me=function(e){var t=e.cloverDomain,n=e.merchantId,a=e.accessToken,r=e.filterNames,c=void 0===r?Object.values(P):r,o=new URL("/v3/merchants/".concat(n,"/permission_sets"),t);return o.searchParams.set("access_token",a),o.searchParams.set("expand","roles"),o.searchParams.set("limit",1e3),(null===c||void 0===c?void 0:c.length)&&o.searchParams.set("filter","name in (".concat(c.map((function(e){return"'".concat(e,"'")})).join(","),")")),le(o.toString(),{method:"GET",headers:{accept:"application/json","content-type":"application/json"}}).then((function(e){return e.json()}))},pe=function(e,t){var n=x[t.appName];return n?Object(F.a)(Object(F.a)({},e),{},Object(h.a)({},n,!0)):e},ve=function(e,t){return e.reduce((function(e,n){var a=e[e.length-1];return a.length===t?e.push([n]):a.push(n),e}),[[]])},fe=function(){var e=Object(oe.a)(ce.a.mark((function e(t){var n,a,r,c,o,i,l,s,u;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cloverDomain,a=t.merchantId,r=t.accessToken,e.next=3,ue({cloverDomain:n,merchantId:a,accessToken:r});case 3:c=e.sent,o=c.elements,i=o.filter((function(e){return M.test(e.productName)})),l=ve(i,4),s=0;case 8:if(!(s<l.length)){e.next=15;break}return e.next=11,Promise.all(l[s].map((function(e){var t=e.id;return se({cloverDomain:n,merchantId:a,accessToken:r,deviceId:t})})));case 11:l[s]=e.sent;case 12:s++,e.next=8;break;case 15:return u=l.flat(),e.abrupt("return",i.map((function(e,t){return Object(F.a)(Object(F.a)({},e),{},{apps:u[t].applications.reduce(pe,{})})})));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=n(16),ye=function(){var e=Object(oe.a)(ce.a.mark((function e(t){var n,a,r,c,o,i,l,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cloverDomain,a=t.merchantId,r=t.accessToken,c=t.employeeId,e.next=3,Promise.all([de({cloverDomain:n,merchantId:a,employeeId:c,accessToken:r}).catch((function(){return null})),me({cloverDomain:n,merchantId:a,accessToken:r}).catch((function(){return null}))]);case 3:return o=e.sent,i=Object(be.a)(o,2),l=i[0],s=i[1],e.abrupt("return",{employee:l,permissions:s});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(e){var t=+e;return!isNaN(t)&&t>=0?(t/100).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""},Oe={active:null,mode:_,data:{}},Ee=Object(f.c)({actions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"clearActions":return Y;case"appendActions":var r=e.some((function(e){var t,n;return e.type===a.type&&(null===(t=e.payload)||void 0===t?void 0:t.description)===(null===(n=a.payload)||void 0===n?void 0:n.description)}));return r?e:[].concat(Object(y.a)(e),[a]);case"setActions":return a||[];case"setConnector":return[{type:j,payload:{description:"Cancel"}}];case"@@connector/onDeviceReady":case"@@connector/onResetDeviceResponse":return[{type:g},{type:T}];case"@@connector/onDeviceActivityStart":return a.inputOptions.map((function(e){return{type:C,payload:e}}));case"@@connector/onSaleResponse":case"@@connector/onVoidPaymentResponse":case"@@connector/onManualRefundResponse":return[{type:g},{type:T}];case"@@connector/onConfirmPaymentRequest":return[{type:O,payload:a},{type:N,payload:a}];case"@@connector/onVerifySignatureRequest":return[{type:E,payload:a},{type:k,payload:a}];default:return e}},buffer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"clearBuffer":return"";case"appendBuffer":return(e+a).replace(/^0+/,"").slice(0,7);case"setBuffer":return a;case"undoBuffer":return e.length?e.slice(0,e.length-1):"";default:return e}},configuration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"setConfigurationLoading":return Object(F.a)(Object(F.a)({},e),{},{loading:!0});case"setConfigurationNotLoading":return Object(F.a)(Object(F.a)({},e),{},{loading:void 0});case"setConfiguration":return Object(F.a)(Object(F.a)({},e),{},{cloverDomain:a.cloverDomain||"",merchantId:a.merchantId||"",employeeId:a.employeeId||"",raid:a.raid||"",accessToken:a.accessToken||"",friendlyId:a.friendlyId||""});default:return e}},connection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"clearConnector":return $(e.connector),X;case"setConnector":return $(e.connector),Object(F.a)(Object(F.a)({},e),{},{connector:a,connected:!1});case"@@connector/onDeviceDisconnected":return Object(F.a)(Object(F.a)({},e),{},{connected:!1});case"@@connector/onDeviceReady":Z(e.connector);var r=new G.a.remotepay.RetrieveDeviceStatusRequest;return r.setSendLastMessage(!0),e.connector.retrieveDeviceStatus(r),Object(F.a)(Object(F.a)({},e),{},{connected:!0});default:return e}},devices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"clearDevices":return Object(F.a)(Object(F.a)({},e),{},{list:[]});case"clearDeviceId":return Object(F.a)(Object(F.a)({},e),{},{selected:""});case"setDeviceId":return Object(F.a)(Object(F.a)({},e),{},{selected:a||""});case"setDevices":return Object(F.a)(Object(F.a)({},e),{},{list:a||[]});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"clearError":return te;case"setError":return Object(F.a)(Object(F.a)({},e),{},{message:a.message,stack:a.stack,important:a.important});case"@@connector/onDeviceError":return Object(F.a)(Object(F.a)({},e),{},{message:"Device Error ".concat(a.message),stack:JSON.stringify(a,null,2),important:void 0});case"@@connector/onManualRefundResponse":case"@@connector/onSaleResponse":case"@@connector/onVoidPaymentResponse":return a.success?e:Object(F.a)(Object(F.a)({},e),{},{message:a.message,stack:JSON.stringify(a,null,2),important:!0});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"setEmployee":return Object(F.a)(Object(F.a)({},e),{},{employee:a});case"setPermissions":return Object(F.a)(Object(F.a)({},e),{},{permissions:a});default:return e}},signature:function(){var e,t,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,r=arguments.length>1?arguments[1]:void 0,c=r.type,o=r.payload;switch(c){case"clearSignature":return ae;case"setSignature":return{width:(null===o||void 0===o?void 0:o.width)||0,height:(null===o||void 0===o?void 0:o.height)||0,strokes:(null===o||void 0===o?void 0:o.strokes)||[]};case"@@connector/onVerifySignatureRequest":return{width:(null===(e=o.signature)||void 0===e?void 0:e.width)||0,height:(null===(t=o.signature)||void 0===t?void 0:t.height)||0,strokes:(null===(n=o.signature)||void 0===n?void 0:n.strokes)||[]};default:return a}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"clearStatus":return"";case"setStatus":return a||"";case"@@connector/onDeviceReady":case"@@connector/onResetDeviceResponse":return"Ready";case"@@connector/onDeviceActivityStart":return a.message;case"@@connector/onSaleResponse":case"@@connector/onVoidPaymentResponse":case"@@connector/onManualRefundResponse":return"Ready";case"@@connector/onConfirmPaymentRequest":return a.challenges[0].message;case"@@connector/onVerifySignatureRequest":return"Verify Signature";default:return e}},transactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"setTransactionMode":return Object(F.a)(Object(F.a)({},e),{},{mode:a});case"setActiveTransaction":if(a.id){var r=e.data[a.id]||{};return Object(F.a)(Object(F.a)({},e),{},{active:a.id,data:Object(F.a)(Object(F.a)({},e.data),{},Object(h.a)({},a.id,Object(F.a)(Object(F.a)({},e.data[a.id]),{},{id:a.id,timestamp:Date.now(),type:a.type||r.type,amount:a.amount||r.amount||0,tipAmount:a.tipAmount||r.tipAmount||0})))})}return Object(F.a)(Object(F.a)({},e),{},{active:""});case"hideTransaction":return Object(F.a)(Object(F.a)({},e),{},{data:Object(F.a)(Object(F.a)({},e.data),{},Object(h.a)({},a,Object(F.a)(Object(F.a)({},e.data[a]),{},{visible:!1})))});case"showTransaction":return Object(F.a)(Object(F.a)({},e),{},{data:Object(F.a)(Object(F.a)({},e.data),{},Object(h.a)({},a,Object(F.a)(Object(F.a)({},e.data[a]),{},{visible:!0})))});case"removeTransaction":var c=Object(F.a)(Object(F.a)({},e),{},{data:Object(F.a)({},e.data)});return delete c.data[a],c;case"updateTransaction":var o=e.data[a.id]||{};return Object(F.a)(Object(F.a)({},e),{},{data:Object(F.a)(Object(F.a)({},e.data),{},Object(h.a)({},a.id,Object(F.a)(Object(F.a)({},o),{},{id:a.id,timestamp:Date.now(),visible:a.visible||o.visible||!1,amount:a.amount||o.amount||0,tipAmount:a.tipAmount||o.tipAmount||0,type:a.type||o.type||"",payment:a.payment||o.payment||null})))});case"@@connector/onSaleResponse":if(a.success)return Object(F.a)(Object(F.a)({},e),{},{active:"",data:Object(F.a)(Object(F.a)({},e.data),{},Object(h.a)({},a.payment.externalPaymentId,Object(F.a)(Object(F.a)({},e.data[a.payment.externalPaymentId]),{},{id:a.payment.externalPaymentId,timestamp:Date.now(),visible:!0,type:_,payment:a.payment})))});var i=Object(F.a)(Object(F.a)({},e),{},{active:""});return delete i.data[e.active],i;case"@@connector/onManualRefundResponse":if(a.success)return Object(F.a)(Object(F.a)({},e),{},{active:"",data:Object(F.a)(Object(F.a)({},e.data),{},Object(h.a)({},a.credit.externalReferenceId,Object(F.a)(Object(F.a)({},e.data[a.credit.externalReferenceId]),{},{id:a.credit.externalReferenceId,timestamp:Date.now(),visible:!0,type:L,payment:a.credit})))});var l=Object(F.a)(Object(F.a)({},e),{},{active:""});return delete l.data[e.active],l;case"@@connector/onVoidPaymentResponse":if(a.success)return Object(F.a)(Object(F.a)({},e),{},{active:"",data:Object(F.a)(Object(F.a)({},e.data),{},Object(h.a)({},a.payment.externalPaymentId,Object(F.a)(Object(F.a)({},e.data[a.payment.externalPaymentId]),{},{id:a.payment.externalPaymentId,timestamp:Date.now(),visible:!0,type:V,payment:a.payment})))});var s=e.data[e.active];return(null===s||void 0===s?void 0:s.type)===V?Object(F.a)(Object(F.a)({},e),{},{active:"",data:Object(F.a)(Object(F.a)({},e.data),{},Object(h.a)({},s.id,Object(F.a)(Object(F.a)({},e.data[s.id]),{},{type:_})))}):e;default:return e}}}),je=n(14),ge=function(e){return e.configuration},Ce=Object(je.a)(ge,(function(e){return e.friendlyId||"Virtual Keypad"})),Ne=Object(je.a)(ge,(function(e){return e.cloverDomain===S})),ke=Object(je.a)(Ne,(function(e){return e?G.a.CardEntryMethods.DEFAULT:G.a.CardEntryMethods.DEFAULT|G.a.CardEntryMethods.CARD_ENTRY_METHOD_MANUAL})),De=Object(je.a)(ge,(function(e){return e.loading||!1})),Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.message,n=e.stack,a=e.important;return{type:"setError",payload:{message:t,stack:n,important:a}}},Te=function(e){return{type:"setActions",payload:e}},Ae=function(e){return e.connection},we=Object(je.a)(Ae,(function(e){return e.connector})),Re=(Object(je.a)(Ae,(function(e){return e.connected})),function(e){return{type:"setStatus",payload:e}}),xe=function(e){var t,n=e.configuration,a=e.devices;return t={configuration:Object(F.a)(Object(F.a)({},n),{},{loading:void 0}),devices:Object(F.a)(Object(F.a)({},ee),{},{selected:a.selected})},void localStorage.setItem("clover/virtual-keypad",btoa(JSON.stringify(t)))},Se=function(e){return{type:"setConfiguration",payload:{cloverDomain:e.cloverDomain,merchantId:e.merchantId,employeeId:e.employeeId,raid:e.raid,accessToken:e.accessToken,friendlyId:e.friendlyId}}},Pe=function(e){return{type:"setDeviceId",payload:e}},Me=function(e){return{type:"setDevices",payload:e}},_e=function(e){return{type:"setPermissions",payload:e}},Le=function(e){var t=e.cloverDomain,n=e.merchantId,a=e.employeeId,r=e.raid,c=e.accessToken,o=e.friendlyId;return function(){var e=Object(oe.a)(ce.a.mark((function e(i,l){var s,u,d,m;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i({type:"configure",payload:{cloverDomain:t,merchantId:n,employeeId:a,raid:r,accessToken:c,friendlyId:o}});case 3:return e.next=5,i({type:"clearError"});case 5:return e.next=7,i({type:"setConfigurationLoading"});case 7:return e.next=9,i(Se({cloverDomain:t,merchantId:n,employeeId:a,raid:r,accessToken:c,friendlyId:o}));case 9:return xe(l()),e.next=12,fe({cloverDomain:t,merchantId:n,raid:r,employeeId:a,accessToken:c});case 12:return s=e.sent,e.next=15,i(Me(s));case 15:if(s.length){e.next=17;break}throw new Error("Merchant has no devices");case 17:if(s.some((function(e){return e.apps[w]}))){e.next=19;break}throw new Error("Merchant has no devices with Cloud Pay Display installed");case 19:return e.next=21,ye({cloverDomain:t,merchantId:n,employeeId:a,raid:r,accessToken:c});case 21:return u=e.sent,d=u.employee,m=u.permissions,e.next=26,i({type:"setEmployee",payload:d});case 26:return e.next=28,i(_e(m));case 28:e.next=34;break;case 30:return e.prev=30,e.t0=e.catch(0),e.next=34,i(Ie(e.t0));case 34:return e.prev=34,e.next=37,i({type:"setConfigurationNotLoading"});case 37:return e.finish(34);case 38:case"end":return e.stop()}}),e,null,[[0,30,34,38]])})));return function(t,n){return e.apply(this,arguments)}}()},Ve=n(317),Ye=n(101),Fe=n(330),Ue=n(329),Ke=function(e){return e.devices},Be=Object(je.a)(Ke,(function(e){return e.selected})),qe=Object(je.a)(Ke,Be,(function(e,t){var n=e.list;return Object(y.a)(n).sort((function(e,n){return e.id===t?-1:n.id===t?1:0}))})),ze=function(e){return{type:"setConnector",payload:e}},We=function(e){return function(){var t=Object(oe.a)(ce.a.mark((function t(n,a){var r,c,o,i,l,s,u,d,m,p,v,f;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n({type:"connect",payload:e});case 3:return t.next=5,n(Pe(e));case 5:if(r=a(),xe(r),c=ge(r),o=c.cloverDomain,i=c.merchantId,l=c.raid,s=c.accessToken,u=c.friendlyId,d=qe(r).find((function(t){return t.id===e}))){t.next=11;break}throw new Error("Device not found");case 11:if(d.apps[w]){t.next=13;break}throw new Error("Device does not have Cloud Pay Display installed");case 13:m=G.a.CloverConnectorFactoryBuilder.createICloverConnectorFactory(Object(h.a)({},G.a.CloverConnectorFactoryBuilder.FACTORY_VERSION,G.a.CloverConnectorFactoryBuilder.VERSION_12)),p=m.createICloverConnector(new G.a.WebSocketCloudCloverDeviceConfigurationBuilder(l,e,i,s).setCloverServer(o).setFriendlyId(u).build()),v=function(e){Object(Fe.a)(a,e);var t=Object(Ue.a)(a);function a(){var e;return Object(Ve.a)(this,a),e=t.call(this),Object.keys(Object.getPrototypeOf(Object.getPrototypeOf(Object(Ye.a)(e)))).forEach((function(t){e[t]=function(e){return n({type:"@@connector/".concat(t),payload:e})}})),e}return a}(G.a.remotepay.ICloverConnectorListener),f=new v,p.addCloverConnectorListener(f),n(ze(p)),n(Re("Connecting\u2026")),p.initializeConnection(),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(0),n(Ie(t.t0));case 26:case"end":return t.stop()}}),t,null,[[0,23]])})));return function(e,n){return t.apply(this,arguments)}}()},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.type,a=e.amount,r=e.tipAmount;return{type:"setActiveTransaction",payload:{id:t,type:n,amount:a,tipAmount:r}}},Je=function(e){return{type:"hideTransaction",payload:e}},Ge=function(e){return{type:"updateTransaction",payload:{id:e.id,type:e.type,amount:e.amount,tipAmount:e.tipAmount,payment:e.payment}}},Xe=function(){return function(){var e=Object(oe.a)(ce.a.mark((function e(t,n){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({type:"disconnect"});case 3:return a=we(n()),e.prev=4,a.showWelcomeScreen(),e.next=8,new Promise((function(e){return setTimeout(e,500)}));case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:return a.dispose(),e.next=15,t({type:"clearConnector"});case 15:return e.next=17,t({type:"clearDevices"});case 17:return e.next=19,t(He());case 19:e.next=25;break;case 21:return e.prev=21,e.t1=e.catch(0),e.next=25,t(Ie(e.t1));case 25:case"end":return e.stop()}}),e,null,[[0,21],[4,10]])})));return function(t,n){return e.apply(this,arguments)}}()},Ze=n(328),$e=n(73),Qe=n(318),et={en:n(319)},tt=Ze.a.use(Qe.a).use($e.e).init({fallbackLng:["en"],debug:!1,keySeparator:"~",nsSeparator:!1,interpolation:{escapeValue:!1},resources:et}),nt=function(e){return function(){var t=Object(oe.a)(ce.a.mark((function t(n,a){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n(Object(F.a)(Object(F.a)({},e),{},{type:"reset"})),n(Re("Resetting\u2026")),n({type:"clearActions"}),we(a()).resetDevice()}catch(r){n(Ie(r))}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},at=function(e){return e.error},rt=function(e){return function(){var t=Object(oe.a)(ce.a.mark((function t(n,a){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n(Object(F.a)(Object(F.a)({},e),{},{type:"showWelcome"})),n(Re("Ready")),n(Te([{type:g},{type:T}])),we(a()).showWelcomeScreen()}catch(r){n(Ie(r))}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},ct=function(e){return{type:"appendBuffer",payload:e}},ot=function(e){return e.buffer},it=function(e){return e.transactions},lt=Object(je.a)(it,(function(e){var t=e.data;return Object.values(t)})),st=Object(je.a)(it,(function(e){var t=e.active;return e.data[t]})),ut=Object(je.a)(st,(function(e){return null===e||void 0===e?void 0:e.type})),dt=Object(je.a)(st,(function(e){return((null===e||void 0===e?void 0:e.amount)||0)+((null===e||void 0===e?void 0:e.tipAmount)||0)})),mt=Object(je.a)(lt,(function(e){return e.filter((function(e){return e.payment}))})),pt=Object(je.a)(mt,(function(e){return e.filter((function(e){return e.visible}))})),vt=Object(je.a)(it,(function(e){return e.mode})),ft=function(e){return function(){var t=Object(oe.a)(ce.a.mark((function t(n,a){var r,c,o,i,l,s,u,d,m,p;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tt;case 3:if(r=t.sent,n(Object(F.a)(Object(F.a)({},e),{},{type:"transaction"})),c=a(),o=ot(c),i=we(c),l=ke(c),s=vt(c),n({type:"clearActions"}),n(Re("Processing...")),n({type:"clearBuffer"}),u=+o){t.next=16;break}throw new Error("Amount is required");case 16:if(!isNaN(u)){t.next=18;break}throw new Error("Amount is invalid");case 18:if(!(u<=0||u>9999999)){t.next=20;break}throw new Error("Amount is invalid");case 20:d=G.a.CloverID.getNewId(),s===L&&(d=d.slice(0,12)),n(He({id:d,type:s,amount:u})),t.t0=s,t.next=t.t0===_?26:t.t0===L?33:40;break;case 26:return(m=new G.a.remotepay.SaleRequest).setAmount(u),m.setExternalId(d),m.setCardEntryMethods(l),n(Ge({id:d,type:_,amount:u})),i.sale(m),t.abrupt("break",41);case 33:return(p=new G.a.remotepay.ManualRefundRequest).setAmount(u),p.setExternalId(d),p.setCardEntryMethods(l),n(Ge({id:d,type:L,amount:u})),i.manualRefund(p),t.abrupt("break",41);case 40:throw new Error("".concat(r("ERROR~Invalid transaction type"),": ").concat(s));case 41:t.next=47;break;case 43:t.prev=43,t.t1=t.catch(0),n(Ie(t.t1)),n({type:"@@connector/onDeviceReady"});case 47:case"end":return t.stop()}}),t,null,[[0,43]])})));return function(e,n){return t.apply(this,arguments)}}()},bt=function(e){return function(){var t=Object(oe.a)(ce.a.mark((function t(n,a){var r,c,o,i,l,s,u;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n({type:"voidPayment",payload:e}),r=e.id,c=e.externalPaymentId,o=e.orderId,i=e.amount,l=e.tipAmount,s=we(a()),n({type:"clearActions"}),n(Re("Processing\u2026")),r){t.next=8;break}throw new Error("No payment was specified");case 8:n(He({id:c,type:V,amount:i,tipAmount:l})),(u=new G.a.remotepay.VoidPaymentRequest).setPaymentId(r),u.setOrderId(o),u.setVoidReason(G.a.order.VoidReason.USER_CANCEL),s.voidPayment(u),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),n(Ie(t.t0)),n({type:"@@connector/onDeviceReady"});case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e,n){return t.apply(this,arguments)}}()},yt=function(e){var t=Object(f.a)(b.a),n=window.__REDUX_DEVTOOLS_EXTENSION__,a=n?n():function(e){return e};return Object(f.e)(Ee,e,Object(f.d)(t,a))}(void 0),ht=ge(yt.getState());yt.dispatch(Le(ht));var Ot,Et=yt,jt=function(e){return e.actions},gt=Object(je.a)(jt,(function(e){return e.find((function(e){return e.type===T}))})),Ct=Object(je.a)(jt,(function(e){var t=e.filter((function(e){return e.type!==T}));if(2===t.length){var n,a,r=Object(be.a)(t,2),c=r[0],o=r[1];if("No"===(null===(n=c.payload)||void 0===n?void 0:n.description)&&"Yes"===(null===(a=o.payload)||void 0===a?void 0:a.description))return[o,c]}return t})),Nt=function(e){return e.settings},kt=Object(je.a)(Nt,(function(e){return e.employee})),Dt=Object(je.a)(kt,(function(e){var t;return null===e||void 0===e||null===(t=e.roles)||void 0===t?void 0:t.elements})),It=Object(je.a)(Nt,(function(e){var t=e.permissions;return null===t||void 0===t?void 0:t.elements})),Tt=Object(je.a)(Dt,It,(function(e,t){if(e&&t){var n=e.map((function(e){return e.id})),a=new Set(t.filter((function(e){return e.name===P.PERFORM_MANUAL_REFUND})).map((function(e){var t;return null===(t=e.roles)||void 0===t?void 0:t.elements.map((function(e){return e.id}))})).flat());return n.some((function(e){return a.has(e)}))}return!1})),At=Object(je.a)(Dt,It,(function(e,t){if(e&&t){var n=e.map((function(e){return e.id})),a=new Set(t.filter((function(e){return e.name===P.VOID_PAYMENTS})).map((function(e){var t;return null===(t=e.roles)||void 0===t?void 0:t.elements.map((function(e){return e.id}))})).flat());return n.some((function(e){return a.has(e)}))}return!1})),wt=function(e){return e.signature},Rt=Object(je.a)(wt,(function(e){var t=e.strokes.map((function(e){return e.points})).flat().reduce((function(e,t){var n=e.x,a=e.X,r=e.y,c=e.Y;return{x:Math.min(n,t.x),X:Math.max(a,t.x),y:Math.min(r,t.y),Y:Math.max(c,t.y)}}),{x:1/0,X:-1/0,y:1/0,Y:-1/0});return[t.x,t.y,t.X-t.x,t.Y-t.y].join(" ")})),xt=Object(je.a)(wt,(function(e){return e.strokes.map((function(e){return e.points.map((function(e){var t=e.x,n=e.y;return"".concat(t,",").concat(n)})).join(" ")}))})),St=function(e){return e.status},Pt=n(8),Mt=n.n(Pt),_t=n(758),Lt=n(759),Vt=n(760),Yt=n(324),Ft=n(761),Ut=n(762),Kt=n(770),Bt=Object(je.a)(we,qe,(function(e,t){return!e&&!t.length})),qt=n(755),zt=n(756),Wt=n(757),Ht=n(322),Jt=n.n(Ht),Gt=function(e){var t=e.id,n=e.type,a=void 0===n?"text":n,r=e.autoCorrect,c=void 0===r?"off":r,o=e.autoComplete,i=void 0===o?"off":o,l=e.autoCapitalize,d=void 0===l?"off":l,m=e.spellCheck,p=void 0===m?"false":m,v=e.value,f=e.disabled,b=e.onChange,y=Object(ie.a)(e,["id","type","autoCorrect","autoComplete","autoCapitalize","spellCheck","value","disabled","onChange"]),h=Object(Kt.a)().t,O=Object(s.useState)(!1),E=Object(be.a)(O,2),j=E[0],g=E[1],C=Object(s.useCallback)((function(){return g((function(e){return!e}))}),[g]),N=Object(s.useMemo)((function(){return h("".concat(t,"~label"))}),[t,h]),k=Object(s.useMemo)((function(){return h("".concat(t,"~title"),"")}),[t,h]),D=Object(s.useMemo)((function(){return h("".concat(t,"~help"),"")}),[t,h]);return u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:t,className:"d-block"},N,":",D&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Yt.a,{type:"button",id:"".concat(t,"-btn"),color:"secondary",outline:!0,size:"sm",className:"float-right p-0 px-2",title:"Help",onFocus:C},"?"),u.a.createElement(qt.a,{trigger:"focus",isOpen:j,toggle:C,target:"".concat(t,"-btn")},u.a.createElement(zt.a,null,N," Help"),u.a.createElement(Wt.a,null,u.a.createElement(Jt.a,{source:D,linkTarget:"_blank"}))))),u.a.createElement("input",Object.assign({id:t,type:a,className:"form-control",title:k,autoCorrect:c,autoComplete:i,autoCapitalize:d,spellCheck:p,value:v,onChange:function(e){return b(e.target.value)},disabled:f},y)))},Xt=function(e){var t=e.id,n=e.label,a=e.checked,r=e.onChange,c=e.disabled,o=e.switch,i=e.mb0,l=Object(ie.a)(e,["id","label","checked","onChange","disabled","switch","mb0"]);return u.a.createElement("div",{className:Mt()("form-group",{"mb-0":i})},u.a.createElement("div",{className:Mt()("custom-control",{"custom-switch":o,"custom-checkbox":!o})},u.a.createElement("input",Object.assign({id:t,type:"checkbox",className:"custom-control-input",checked:a,onChange:function(){return r(!a)},disabled:c},l)),u.a.createElement("label",{className:"custom-control-label font-weight-normal",htmlFor:t},n)))},Zt=function(e){var t=e.size,n=void 0===t?28:t,a=Object(Kt.a)().t;return u.a.createElement("svg",{className:"Logo",id:"clover-logo-svg",xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 33.15 33.15","aria-labelledby":"svg-logo-title",role:"image"},u.a.createElement("title",{id:"svg-logo-title"},a("Clover")),u.a.createElement("g",{id:"clover-symbol-2","data-name":"clover-symbol"},u.a.createElement("path",{d:"M191.45,85.64A7.5,7.5,0,1,0,184,93.09h7.49V85.64Z",transform:"translate(-176.46 -77.01)"}),u.a.createElement("path",{d:"M193.61,85.64a7.5,7.5,0,1,1,7.49,7.45h-7.49V85.64Z",transform:"translate(-176.46 -77.01)"}),u.a.createElement("path",{d:"M193.61,102.7a7.5,7.5,0,1,0,7.49-7.45h-7.49v7.45Z",transform:"translate(-176.46 -77.01)"}),u.a.createElement("path",{d:"M191.46,102.7A7.5,7.5,0,1,1,184,95.25h7.49v7.45Zm-7.5,5.35a5.38,5.38,0,0,0,5.4-5.35V97.36H184a5.35,5.35,0,1,0,0,10.7h0Z",transform:"translate(-176.46 -77.01)"})))},$t=function(){var e=Object(Kt.a)().t,t=Object(p.b)(),n=Object(p.c)(ge),a=Object(p.c)(De),r=Object(p.c)(Bt),c=Object(s.useState)(n.cloverDomain),o=Object(be.a)(c,2),i=o[0],l=o[1],d=Object(s.useState)(n.merchantId),m=Object(be.a)(d,2),v=m[0],f=m[1],b=Object(s.useState)(n.employeeId),y=Object(be.a)(b,2),h=y[0],O=y[1],E=Object(s.useState)(n.accessToken),j=Object(be.a)(E,2),g=j[0],C=j[1],N=Object(s.useState)(n.raid),k=Object(be.a)(N,2),D=k[0],I=k[1],T=Object(s.useState)(n.friendlyId),A=Object(be.a)(T,2),w=A[0],R=A[1],x=Object(s.useState)(!1),S=Object(be.a)(x,2),P=S[0],M=S[1],_=Object(s.useCallback)((function(){return M((function(e){return!e}))}),[M]),L=Object(s.useState)(!1),V=Object(be.a)(L,2),Y=V[0],F=V[1],U=Object(s.useMemo)((function(){return a||Y}),[a,Y]),K=Object(s.useCallback)(function(){var e=Object(oe.a)(ce.a.mark((function e(n){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),F(!0),e.next=5,t(Le({cloverDomain:i,merchantId:v,employeeId:h,accessToken:g,raid:D,friendlyId:w}));case 5:return e.prev=5,F(!1),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})));return function(t){return e.apply(this,arguments)}}(),[t,i,v,h,g,D,w]),B=Object(s.useCallback)((function(e){e.preventDefault(),l(n.cloverDomain),f(n.merchantId),O(n.employeeId),C(n.accessToken),I(n.raid),R(n.friendlyId)}),[n,l,f,O,C,I,R]);return r?u.a.createElement("form",{onSubmit:K,onReset:B},u.a.createElement(_t.a,{className:"Configuration"},u.a.createElement(Lt.a,null,u.a.createElement(Zt,null),u.a.createElement("h3",null,e("Virtual Keypad"))),a&&u.a.createElement(Vt.a,null,u.a.createElement("p",null,"Loading...")),!a&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Vt.a,null,u.a.createElement(Yt.a,{type:"button",size:"sm",className:"w-100 mb-2",color:"dark",onClick:_},e("Configuration")," ",P?"\u25b2":"\u25bc"),u.a.createElement(Ft.a,{isOpen:P},u.a.createElement(Gt,{id:"cloverDomain",type:"url",value:i,onChange:l,disabled:U,required:!0}),u.a.createElement(Gt,{id:"merchantId",pattern:"^[a-zA-Z0-9]{13}$",maxLength:"13",value:v,onChange:f,disabled:U,required:!0}),u.a.createElement(Gt,{id:"employeeId",pattern:"^[a-zA-Z0-9]{13}$",maxLength:"13",value:h,onChange:O,disabled:U}),u.a.createElement(Gt,{id:"raid",pattern:"^[a-zA-Z0-9 .]{1,255}$",value:D,onChange:I,disabled:U,required:!0}),u.a.createElement(Gt,{id:"accessToken",pattern:"^[a-fA-F0-9]{8}(-?[a-fA-F0-9]{4}){3}-?[a-fA-F0-9]{12}$",value:g,onChange:C,disabled:U,required:!0}),u.a.createElement(Gt,{id:"friendlyId",value:w,onChange:R,disabled:U}))),u.a.createElement(Ut.a,null,u.a.createElement(Yt.a,{type:"submit",color:"success",disabled:U},e("Connect")),u.a.createElement(Yt.a,{type:"reset",color:"secondary",className:"ml-2",disabled:U},e("Reset")))))):null},Qt=Object(je.a)(we,qe,(function(e,t){return!e&&!!t.length})),en=n(763),tn=function(e){var t=e.device,n=e.active,a=e.disabled,r=e.onClick,c=Object(Kt.a)().t,o=Object(s.useState)(!1),i=Object(be.a)(o,2),l=i[0],d=i[1],m=Object(s.useMemo)((function(){return"device-".concat(t.id)}),[t.id]),p=function(e){e&&(e.preventDefault(),e.stopPropagation()),d(!l)},v=t.apps[w],f=c("cloudPayDisplay~".concat(v?"":"un","installed"));return u.a.createElement("button",{key:t.id,type:"button",className:Mt()("list-group-item d-flex justify-content-between align-items-center list-group-item-action p-1",{disabled:a,"list-group-item-primary":!a&&n}),onClick:r},u.a.createElement("div",{className:"p-1"},t.name&&u.a.createElement("div",{className:"font-weight-bold"},t.name),t.productName," ",t.serial),u.a.createElement("span",{id:m,onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onClick:p,className:Mt()("badge p-1",{"badge-secondary":a,"badge-success":!a&&v,"badge-warning":!a&&!v}),role:"img","aria-label":f},"\u2601\ufe0f"),u.a.createElement(en.a,{isOpen:l,target:m,toggle:p,placement:"left"},u.a.createElement("span",{className:"small"},f)))},nn=function(){var e=Object(Kt.a)().t,t=Object(p.b)(),n=Object(p.c)(qe),a=Object(p.c)(Be),r=Object(p.c)(Qt),c=Object(s.useState)(),o=Object(be.a)(c,2),i=o[0],l=o[1],d=Object(s.useCallback)((function(e){return function(){var n=Object(oe.a)(ce.a.mark((function n(a){return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a.preventDefault(),l(!0),n.next=5,t(We(e));case 5:return n.prev=5,l(!1),n.finish(5);case 8:case"end":return n.stop()}}),n,null,[[0,,5,8]])})));return function(e){return n.apply(this,arguments)}}()}),[t]);return r?u.a.createElement(_t.a,{className:"Devices"},u.a.createElement(Lt.a,null,u.a.createElement(Zt,null),u.a.createElement("h3",null,e("Virtual Keypad")),u.a.createElement("button",{className:"close text-light",title:e("Cancel"),onClick:function(){return t({type:"clearDevices"})},disabled:i},"\xd7")),u.a.createElement(Vt.a,null,u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,e("Select Device"),":"),u.a.createElement("div",{className:"list-group"},n.map((function(e){return u.a.createElement(tn,{key:e.id,device:e,disabled:i,active:e.id===a,onClick:d(e.id)})})))))):null},an=(Ot={},Object(h.a)(Ot,O,(function(e){return function(){var t=Object(oe.a)(ce.a.mark((function t(n,a){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n(Object(F.a)(Object(F.a)({},e),{},{type:"acceptPayment"})),n(Re("Accepting payment\u2026")),n({type:"clearActions"}),we(a()).acceptPayment(e.payload.payment)}catch(r){n(Ie(r))}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),Object(h.a)(Ot,E,(function(e){return function(){var t=Object(oe.a)(ce.a.mark((function t(n,a){var r,c;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n(Object(F.a)(Object(F.a)({},e),{},{type:"acceptSignature"})),n(Re("Accepting signature\u2026")),n({type:"clearActions"}),n({type:"clearSignature"}),r=we(a()),(c=new G.a.remotepay.VerifySignatureRequest).setPayment(e.payload.payment),r.acceptSignature(c)}catch(o){n(Ie(o))}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),Object(h.a)(Ot,j,Xe),Object(h.a)(Ot,g,(function(e){return function(){var t=Object(oe.a)(ce.a.mark((function t(n,a){var r,c,o,i;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tt;case 3:r=t.sent,n(Object(F.a)(Object(F.a)({},e),{},{type:"identify"})),n(Re("Identifying\u2026")),n(Te([{type:I,payload:{description:"OK"}},{type:j,payload:{description:"Cancel"}}])),c=a(),o=we(c),i=Ce(c),o.showMessage("".concat(i," ").concat(r("connected"))),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),n(Ie(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}()})),Object(h.a)(Ot,C,(function(e){return function(){var t=Object(oe.a)(ce.a.mark((function t(n,a){var r,c;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n(Object(F.a)(Object(F.a)({},e),{},{type:"invokeInputOption"})),r=we(a()),(c=new G.a.remotepay.InputOption).setDescription(e.payload.description),c.setKeyPress(e.payload.keyPress),r.invokeInputOption(c)}catch(o){n(Ie(o))}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),Object(h.a)(Ot,N,(function(e){return function(){var t=Object(oe.a)(ce.a.mark((function t(n,a){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n(Object(F.a)(Object(F.a)({},e),{},{type:"rejectPayment"})),n(Re("Rejecting payment\u2026")),n({type:"clearActions"}),we(a()).rejectPayment(e.payload.payment,e.payload.challenges[0])}catch(r){n(Ie(r))}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),Object(h.a)(Ot,k,(function(e){return function(){var t=Object(oe.a)(ce.a.mark((function t(n,a){var r,c;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n(Object(F.a)(Object(F.a)({},e),{},{type:"rejectSignature"})),n(Re("Rejecting signature\u2026")),n({type:"clearActions"}),n({type:"clearSignature"}),r=we(a()),(c=new G.a.remotepay.VerifySignatureRequest).setPayment(e.payload.payment),r.rejectSignature(c)}catch(o){n(Ie(o))}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),Object(h.a)(Ot,D,nt),Object(h.a)(Ot,I,rt),Object(h.a)(Ot,T,ft),Object(h.a)(Ot,A,(function(e){var t=e.payload;return{type:"setTransactionMode",payload:t.mode}})),Ot),rn={TRANSACTION:"TRANSACTION",HISTORY:"HISTORY"},cn=Object(je.a)(we,(function(e){return!!e})),on=function(e){var t=e.width,n=void 0===t?250:t,a=Object(ie.a)(e,["width"]),r=Object(p.c)(Rt),c=Object(p.c)(xt);return c.length?u.a.createElement("div",{className:"Signature"},u.a.createElement("svg",Object.assign({viewBox:r,width:n},a),c.map((function(e,t){return u.a.createElement("polyline",{key:t,points:e,fill:"none",stroke:"black"})})))):null},ln=function(){var e=Object(Kt.a)().t,t=Object(p.c)(St),n=Object(p.c)(ot),a=Object(p.c)(ut),r=Object(p.c)(dt);return u.a.createElement("div",{className:"Screen alert alert-secondary"},!!r&&u.a.createElement("div",{className:"Transaction d-flex justify-content-between bg-white rounded-top border-bottom border-secondary"},u.a.createElement("div",{className:"font-italic"},e(["TRANSACTION~".concat(a),a])),u.a.createElement("div",{className:"font-weight-bold"},he(r))),!n&&u.a.createElement("div",null,t),u.a.createElement(on,null),n&&u.a.createElement("div",{className:"text-muted"},n),n&&u.a.createElement("h3",{className:"text-right"},he(n)))},sn=n(327),un=n(771),dn=n(772),mn=n(764),pn=n(765),vn=function(e,t){var n=e.style.fontSize;e.style.fontSize="".concat(t,"em");var a=e.parentElement,r=a.offsetWidth,c=a.offsetHeight,o=a.scrollWidth,i=a.scrollHeight;return e.style.fontSize=n,Math.min(r/o,c/i)>=1},fn=function(e){var t=e.children,n=e.minScale,a=void 0===n?.4:n,r=e.maxScale,c=void 0===r?1:r,o=Object(s.useRef)();return Object(s.useEffect)((function(){var e=o.current;e&&(vn(e,c)?e.style.fontSize="".concat(c,"em"):(e.style.fontSize="".concat(a,"em"),vn(e,a)?function e(t,n){var a=Object(be.a)(n,2),r=a[0],c=a[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;if(!(o<=0)){var i=(c+r)/2;vn(t,i)?(t.style.fontSize="".concat(i,"em"),e(t,[i,c],o-1)):e(t,[r,i],o-1)}}(e,[a,c]):e.classList.add("text-truncate")))}),[c,a,o]),u.a.createElement("span",{ref:o},t)},bn=Object(s.forwardRef)((function(e,t){var n=e.action,a=e.height,r=e.color,c=e.keyCodes,o=e.disabled,i=e.onClick,l=e.moreActions,d=e.moreText,m=e.onMoreClick,p=e.children,v=Object(ie.a)(e,["action","height","color","keyCodes","disabled","onClick","moreActions","moreText","onMoreClick","children"]),f=Object(Kt.a)().t,b=Object(s.useState)(!1),y=Object(be.a)(b,2),h=y[0],O=y[1],E=t||Object(s.useRef)(),j=Object(s.useCallback)((function(){return O((function(e){return!e}))}),[O]);Object(s.useEffect)((function(){if(!o){var e=function(e){return!c.includes(e.code)||(e.preventDefault(),i(),!1)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}}),[o,c,i]);var g=Object(s.useMemo)((function(){var e,t=(null===n||void 0===n||null===(e=n.payload)||void 0===e?void 0:e.description)||(null===n||void 0===n?void 0:n.type);return t?f(["ACTION~".concat(t),t]):p}),[n,p,f]),C=Object(s.useMemo)((function(){return[f("Shortcut keys"),c.map((function(e){return f(["KEY_CODE~".concat(e),e])})).join(", ")].join(": ")}),[c,f]);return n&&(null===l||void 0===l?void 0:l.length)?u.a.createElement(un.a,{isOpen:h,toggle:j},u.a.createElement(Yt.a,Object.assign({color:"dark",className:"action rounded-left",onClick:i,disabled:o,title:C},v),g||u.a.createElement("span",null,"\xa0")),u.a.createElement(dn.a,{caret:!0,color:"dark",className:"action",disabled:o}),u.a.createElement(mn.a,{className:"bg-dark",right:!0},l.map((function(e,t){var n,a;return u.a.createElement(pn.a,{key:t,className:"bg-dark text-light",onClick:function(){return m(e)}},f(["ACTION~".concat((null===(n=e.payload)||void 0===n?void 0:n.description)||e.type),(null===(a=e.payload)||void 0===a?void 0:a.description)||e.type]))})))):(null===l||void 0===l?void 0:l.length)?u.a.createElement("div",{className:"btn-group-vertical d-flex flex-column"},u.a.createElement(un.a,{isOpen:h,toggle:j},u.a.createElement(dn.a,{caret:!0,color:"dark",outline:!0,size:"sm",className:"text-light text-truncate",disabled:o},d),u.a.createElement(mn.a,{right:!0,className:"bg-dark"},l.map((function(e,t){var n,a;return u.a.createElement(pn.a,{key:t,className:"bg-dark text-light",onClick:function(){return m(e)}},f(["ACTION~".concat((null===(n=e.payload)||void 0===n?void 0:n.description)||e.type),(null===(a=e.payload)||void 0===a?void 0:a.description)||e.type]))})))),u.a.createElement(Yt.a,Object.assign({outline:!0,color:"dark",className:Mt()("h-100","text-".concat(r||"light")),onClick:i,disabled:o,title:C},v),g||u.a.createElement("span",null,"\xa0"))):u.a.createElement(Yt.a,Object.assign({innerRef:E,style:{height:a},outline:!n,color:"dark",className:Mt()("text-".concat(r||"light"),{action:n}),disabled:o,onClick:i,title:C},v),u.a.createElement(fn,{key:g,minScale:n?.4:1,maxScale:1},g))})),yn=function(){var e=Object(Kt.a)().t,t=Object(p.b)(),n=Object(p.c)(Ct),a=Object(p.c)(gt),r=Object(p.c)(vt),c=Object(p.c)(Tt),o=Object(s.useState)(!1),i=Object(be.a)(o,2),l=i[0],d=i[1],m=Object(s.useMemo)((function(){return!a||l}),[a,l]),v=Object(s.useCallback)(function(){var e=Object(oe.a)(ce.a.mark((function e(n){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),n.type!==C&&n.type!==A||setTimeout((function(){return d(!1)}),250),e.next=4,t(an[n.type](n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,d]),f=function(e){return Object(oe.a)(ce.a.mark((function t(){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",v(e));case 1:case"end":return t.stop()}}),t)})))};Object(s.useEffect)((function(){n.length&&d(!1)}),[d,n]);var b=Object(s.useRef)(),y=Object(s.useState)(),h=Object(be.a)(y,2),O=h[0],E=h[1];Object(s.useEffect)((function(){b.current&&E(b.current.offsetWidth)}),[b,E]);var j=Object(s.useMemo)((function(){return c?{moreText:e(["TRANSACTION~".concat(r),r]),moreActions:[{type:A,payload:{description:"TRANSACTION~SALE",mode:_}},{type:A,payload:{description:"TRANSACTION~CREDIT",mode:L}}],onMoreClick:function(e){return v(e)}}:void 0}),[c,v,e,r]),g=Object(sn.a)(n),N=g[0],k=g[1],D=g.slice(2);return u.a.createElement("div",{className:"Keys"},u.a.createElement("div",{className:"row no-gutters"},u.a.createElement("div",{className:"col-6 p-1"},u.a.createElement(bn,{action:N||{},disabled:!N||l,keyCodes:["F1","NumpadDivide"],onClick:f(N)})),u.a.createElement("div",{className:"col-6 p-1"},u.a.createElement(bn,{action:k||{},disabled:!k||l,keyCodes:["F2","NumpadMultiply"],onClick:f(k),moreActions:D,onMoreClick:function(e){return v(e)}}))),u.a.createElement("div",{className:"row no-gutters"},u.a.createElement("div",{className:"col-3 p-1"},u.a.createElement(bn,{ref:b,height:O,disabled:m,keyCodes:["Numpad7","Digit7"],onClick:function(){return t(ct("7"))}},e("KEY~7"))),u.a.createElement("div",{className:"col-3 p-1"},u.a.createElement(bn,{disabled:m,keyCodes:["Numpad8","Digit8"],onClick:function(){return t(ct("8"))}},e("KEY~8"))),u.a.createElement("div",{className:"col-3 p-1"},u.a.createElement(bn,{disabled:m,keyCodes:["Numpad9","Digit9"],onClick:function(){return t(ct("9"))}},e("KEY~9"))),u.a.createElement("div",{className:"col-3 p-1"},u.a.createElement(bn,{color:"danger",disabled:m,keyCodes:["NumpadSubtract","Escape"],onClick:function(){return t({type:"clearBuffer"})}},e("KEY~X")))),u.a.createElement("div",{className:"row no-gutters"},u.a.createElement("div",{className:"col-3 p-1"},u.a.createElement(bn,{height:O,disabled:m,keyCodes:["Numpad4","Digit4"],onClick:function(){return t(ct("4"))}},e("KEY~4"))),u.a.createElement("div",{className:"col-3 p-1"},u.a.createElement(bn,{disabled:m,keyCodes:["Numpad5","Digit5"],onClick:function(){return t(ct("5"))}},e("KEY~5"))),u.a.createElement("div",{className:"col-3 p-1"},u.a.createElement(bn,{disabled:m,keyCodes:["Numpad6","Digit6"],onClick:function(){return t(ct("6"))}},e("KEY~6"))),u.a.createElement("div",{className:"col-3 p-1"},u.a.createElement(bn,{color:"warning",disabled:m,keyCodes:["NumpadAdd","Backspace","Delete"],onClick:function(){return t({type:"undoBuffer"})}},e("KEY~<")))),u.a.createElement("div",{className:"row no-gutters"},u.a.createElement("div",{className:"col-9"},u.a.createElement("div",{className:"row no-gutters"},u.a.createElement("div",{className:"col-4 p-1"},u.a.createElement(bn,{height:O,disabled:m,keyCodes:["Numpad1","Digit1"],onClick:function(){return t(ct("1"))}},e("KEY~1"))),u.a.createElement("div",{className:"col-4 p-1"},u.a.createElement(bn,{disabled:m,keyCodes:["Numpad2","Digit2"],onClick:function(){return t(ct("2"))}},e("KEY~2"))),u.a.createElement("div",{className:"col-4 p-1"},u.a.createElement(bn,{disabled:m,keyCodes:["Numpad3","Digit3"],onClick:function(){return t(ct("3"))}},e("KEY~3")))),u.a.createElement("div",{className:"row no-gutters"},u.a.createElement("div",{className:"col-8 p-1"},u.a.createElement(bn,{height:O,disabled:m,keyCodes:["Numpad0","Digit0"],onClick:function(){return t(ct("0"))}},e("KEY~0"))),u.a.createElement("div",{className:"col-4 p-1"},u.a.createElement(bn,{disabled:m,keyCodes:["NumpadDecimal","Period"],onClick:function(){return t(ct("00"))}},e("KEY~00"))))),u.a.createElement("div",{className:"col-3 p-1"},u.a.createElement(bn,Object.assign({color:"success",disabled:m,keyCodes:["NumpadEnter","Enter"],onClick:function(){return t(ft())}},j),e("KEY~O")))))},hn=function(e){var t=e.mode,n=e.setMode,a=Object(Kt.a)().t,r=Object(p.b)(),c=Object(s.useState)(!1),o=Object(be.a)(c,2),i=o[0],l=o[1],d=Object(s.useCallback)((function(){return l(!i)}),[i,l]),m=Object(s.useCallback)((function(){return r(rt())}),[r]),v=Object(s.useCallback)((function(){return r(nt())}),[r]),f=Object(s.useCallback)((function(){return r(Xe())}),[r]);return u.a.createElement(un.a,{isOpen:i,toggle:d},u.a.createElement(dn.a,{size:"sm",outline:!0,color:"dark",className:"text-light",onClick:d,title:a("Menu")},"\u2630"),u.a.createElement(mn.a,{right:!0},Object.values(rn).map((function(e){return u.a.createElement(pn.a,{key:e,onClick:function(){return n(e)}},u.a.createElement(Xt,{id:"mode-".concat(e),label:a(["MODE~".concat(e),e]),checked:e===t,readOnly:!0,mb0:!0}))})),u.a.createElement(pn.a,{divider:!0}),u.a.createElement(pn.a,{onClick:m},a("Show Welcome")),u.a.createElement(pn.a,{onClick:v},a("Reset Device")),u.a.createElement(pn.a,{onClick:f},a("Disconnect"))))},On=n(766),En=n(768),jn=n(767),gn=n(769),Cn=function(e){var t=e.amount,n=e.tipAmount,a=e.payment,r=(t||0)+(n||0),c=((null===a||void 0===a?void 0:a.amount)||0)+((null===a||void 0===a?void 0:a.tipAmount)||0);return{start:r,final:c,partial:r>c,remaining:r-c}},Nn=function(e){var t,n,a=e.transaction,r=a||{},c=r.id,o=r.timestamp,i=r.type,l=r.payment,d=Object(Kt.a)().t,m=Object(p.b)(),f=Object(v.useToasts)().removeToast,b=Object(p.c)(At),y=Date.now(),h=Object(gn.a)(o,{minutes:26}),O=Object(s.useState)(b&&y<=h),E=Object(be.a)(O,2),j=E[0],g=E[1];Object(s.useEffect)((function(){if(j){var e=h-y;if(e>0){var t=setTimeout((function(){return g(!1)}),e);return function(){return clearTimeout(t)}}}}),[y,g,j,h]);var C=Cn(a),N=C.partial,k=C.remaining,D=Object(s.useCallback)(Object(oe.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m({type:"setBuffer",payload:k||""});case 3:return e.next=5,m(ft());case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,m(Ie(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[k,m]),I=Object(s.useCallback)(Object(oe.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(c),e.next=4,m(Je(c));case 4:return e.next=6,m(bt(l));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,m(Ie(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),[m,c,l,f]);return u.a.createElement("div",{className:"Transaction"},a.type!==V&&N&&u.a.createElement("div",{className:"alert alert-warning"},u.a.createElement("h6",{className:"alert-heading"},d("Partial Payment")),u.a.createElement("div",null,d("Remaining"),": ",he(k))),u.a.createElement("h5",null,d(["TRANSACTION~".concat(i),i])," ",d("Details")),u.a.createElement(On.a,{size:"sm",className:"small mb-0"},u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("th",null,d("Payment ID"),":"),u.a.createElement("td",null,l.id)),l.externalPaymentId&&u.a.createElement("tr",null,u.a.createElement("th",null,d("External ID"),":"),u.a.createElement("td",null,l.externalPaymentId)),l.externalReferenceId&&u.a.createElement("tr",null,u.a.createElement("th",null,d("External Ref"),":"),u.a.createElement("td",null,l.externalReferenceId)),u.a.createElement("tr",null,u.a.createElement("th",null,d("Order ID"),":"),u.a.createElement("td",null,(null===(t=l.order)||void 0===t?void 0:t.id)||(null===(n=l.orderRef)||void 0===n?void 0:n.id))),!!l.tipAmount&&u.a.createElement("tr",null,u.a.createElement("th",null,d("Total"),":"),u.a.createElement("td",null,he(l.amount+l.tipAmount))),u.a.createElement("tr",null,u.a.createElement("th",null,d("Amount"),":"),u.a.createElement("td",null,he(l.amount))),!!l.tipAmount&&u.a.createElement("tr",null,u.a.createElement("th",null,d("Tip"),":"),u.a.createElement("td",null,he(l.tipAmount))),u.a.createElement("tr",null,u.a.createElement("th",null,d("Card"),":"),u.a.createElement("td",null,u.a.createElement("div",null,d(["CARD~".concat(l.cardTransaction.cardType),l.cardTransaction.cardType])),u.a.createElement("div",null,function(e){var t=e.first6,n=e.last4;return[t,"*".repeat(6),n].join("").replace(/.{4}/g," $&").trim()}(l.cardTransaction)),l.cardTransaction.cardholderName&&u.a.createElement("div",null,d(["CARDHOLDER_NAME~".concat(l.cardTransaction.cardholderName),l.cardTransaction.cardholderName])))))),a.type===_&&u.a.createElement("div",null,N&&u.a.createElement(Yt.a,{color:"primary",size:"sm",className:"mr-1",onClick:D},d("Process")," ",he(k)),j&&u.a.createElement(Yt.a,{color:"danger",size:"sm",onClick:I},d("Void"))))},kn=function(e){var t=Object(p.b)(),n=Object(v.useToasts)().addToast;return function(a){var r,c=Cn(a).partial;r=a.type===V?"info":c?"warning":"success",n(u.a.createElement(Nn,{transaction:a}),{id:a.id,appearance:r,autoDismiss:e&&!c,autoDismissTimeout:8e3,onDismiss:function(){t(Je(a.id))}})}},Dn=function(){var e=Object(Kt.a)().t,t=Object(p.c)(mt),n=kn(),a=Object(s.useMemo)((function(){return t.sort((function(e,t){return Object(jn.a)(e.timestamp,t.timestamp)}))}),[t]);return u.a.createElement("div",{className:"History"},u.a.createElement(On.a,{size:"sm",hover:!0,className:"table-secondary",striped:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,e("Date")),u.a.createElement("th",null,e("Type")),u.a.createElement("th",{className:"text-right"},e("Amount")))),u.a.createElement("tbody",null,a.map((function(t){return u.a.createElement("tr",{key:t.id,role:"button",onClick:function(){return n(t)}},u.a.createElement("td",null,function(e){var t=e.timestamp;return t?Object(En.a)(t,"M/d h:mm a"):"??"}(t)),u.a.createElement("td",null,e("TRANSACTION~".concat(t.type))),u.a.createElement("td",{className:"text-right"},function(e){var t=e.amount,n=e.tipAmount,a=e.payment;return he(a?(a.amount||0)+(a.tipAmount||0):(t||0)+(n||0))}(t)))})))))},In=(n(751),function(){var e=Object(Kt.a)().t,t=Object(p.c)(cn),n=Object(s.useState)(rn.TRANSACTION),a=Object(be.a)(n,2),r=a[0],c=a[1];return t?u.a.createElement(_t.a,{className:"Keypad"},u.a.createElement(Lt.a,null,u.a.createElement(Zt,null),u.a.createElement("h3",null,e("Virtual Keypad")),u.a.createElement(hn,{mode:r,setMode:c})),u.a.createElement(Vt.a,null,r===rn.TRANSACTION&&u.a.createElement(ln,null),r===rn.TRANSACTION&&u.a.createElement(yn,null),r===rn.HISTORY&&u.a.createElement(Dn,null))):null}),Tn=function(e){var t=e.error,n=t.message,a=t.stack,r=Object(Kt.a)().t,c=Object(s.useState)(!1),o=Object(be.a)(c,2),i=o[0],l=o[1];return Object(s.useEffect)((function(){return function(){document.querySelectorAll(".Error.expanded").length-(i?1:0)||document.querySelector(".react-toast-notifications__container").classList.remove("expanded")}}),[i]),u.a.createElement("div",{className:Mt()("Error",{expanded:i})},u.a.createElement("h5",null,r(["ERROR~".concat(n),n])),!!a&&!i&&u.a.createElement(Yt.a,{color:"link",size:"small",onClick:function(){document.querySelector(".react-toast-notifications__container").classList.add("expanded"),l(!0)}},r("Show details")),!!a&&i&&u.a.createElement("pre",{className:"mb-0"},u.a.createElement("code",null,a)))},An=(n(752),function(){var e=function(){var e=Object(s.useState)(!1),t=Object(be.a)(e,2),n=t[0],a=t[1];return Object(s.useEffect)((function(){if(!n){var e=function(){return a(!0)};return document.addEventListener("mouseover",e),function(){return document.removeEventListener("mouseover",e)}}}),[n,a]),n}();return function(e){var t=Object(p.b)(),n=Object(p.c)(at),a=Object(v.useToasts)().addToast;Object(s.useEffect)((function(){n.message&&a(u.a.createElement(Tn,{error:n}),{id:"error",appearance:"error",autoDismiss:e&&!n.important,onDismiss:function(){t({type:"clearError"})}})}),[a,t,n,e])}(e),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ms,n=void 0===t?500:t;Object(s.useEffect)((function(){var e=0,t=function(t){if(1===t.touches.length){var a=Date.now();1===t.touches.length&&a>e&&(t.preventDefault(),t.target.click()),e=a+n}};return document.body.addEventListener("touchstart",t,{passive:!1}),function(){return document.body.removeEventListener("touchstart",t,{passive:!1})}}),[n])}(),function(e){var t=Object(p.c)(pt),n=kn(e);Object(s.useEffect)((function(){t.forEach(n)}),[t,n])}(e),u.a.createElement("div",{className:Mt()("App container maxwidth")},u.a.createElement($t,null),u.a.createElement(nn,null),u.a.createElement(In,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(p.a,{store:Et},u.a.createElement(v.ToastProvider,{placement:"bottom-center"},u.a.createElement(An,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[333,1,2]]]);
//# sourceMappingURL=main.58573860.chunk.js.map